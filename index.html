<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>üíù Be my Valentine? ¬∑ penguin YES!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --penguin-face: white;
            --penguin-picorna: orange;
            --penguin-skin: gray;
            --romance-pink: #ffb7c5;
            --deep-love: #d43f7a;
        }

        body {
            background: linear-gradient(145deg, #ffe0e8, #fff0f7);
            min-height: 100vh;
            font-family: system-ui, 'Segoe UI', sans-serif;
            overflow-x: hidden;
            touch-action: manipulation;
            position: relative;
        }

        .hearts-bg {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 1;
        }

        .bg-heart {
            position: absolute;
            font-size: clamp(16px, 5vw, 32px);
            opacity: 0.35;
            animation: bgFloat 14s linear infinite;
            color: #ff99aa;
        }

        @keyframes bgFloat {
            0%   { transform: translateY(110vh) rotate(0deg); opacity: 0.15; }
            60%  { opacity: 0.5; }
            100% { transform: translateY(-30vh) rotate(400deg); opacity: 0; }
        }

        .scene {
            position: relative;
            min-height: 100vh;
            padding: clamp(10px, 4vw, 30px) 2vw;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .sun {
            width: min(140px, 30vw);
            aspect-ratio: 1;
            background: #fff9b0;
            border-radius: 50%;
            position: absolute;
            top: 2vw;
            right: 2vw;
            box-shadow: 0 0 50px #fffacd;
            z-index: 0;
        }

        .mountain {
            position: absolute;
            bottom: 0;
            width: min(200px, 35vw);
            height: min(200px, 35vw);
            z-index: 2;
        }

        .left-mountain  { left: -8vw;  transform: skew(0deg, 42deg); background: linear-gradient(#cbf1e4, #50b7ff); }
        .back-mountain { left: -2vw;   transform: rotate(42deg);      background: linear-gradient(#cbf1e4, #2faaef); z-index: 1; }

        .valentine-card {
            position: relative;
            z-index: 40;
            margin: 3vh auto 4vh;
            background: rgba(255, 240, 245, 0.96);
            backdrop-filter: blur(10px);
            border-radius: 32px;
            padding: clamp(16px, 5vw, 24px);
            box-shadow: 0 16px 32px rgba(212, 63, 130, 0.28);
            border: 3px solid white;
            width: min(90vw, 480px);
            text-align: center;
        }

        .question-text {
            font-size: clamp(1.4rem, 6.5vw, 2.4rem);
            font-weight: 800;
            background: linear-gradient(145deg, #c92e6a, #a12f5a);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 0.6em;
            line-height: 1.2;
        }

        .from-signature {
            font-size: clamp(0.95rem, 4vw, 1.2rem);
            color: #b34180;
            font-style: italic;
            margin-bottom: 1.4em;
        }

        .button-pair {
            display: flex;
            gap: clamp(8px, 3vw, 16px);
            justify-content: center;
            flex-wrap: wrap;
            width: 100%;
        }

        .love-btn {
            font-size: clamp(1.2rem, 5vw, 1.8rem);
            padding: 0.6em 1.3em;
            border-radius: 50px;
            font-weight: bold;
            border: 3px solid;
            box-shadow: 0 6px 0 rgba(150, 30, 80, 0.3);
            transition: all 0.18s ease-out;
            min-width: 100px;
            flex: 1;
            max-width: 200px;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            cursor: pointer;
        }

        #btnYes {
            background: #ffc0cb;
            color: #a12f5a;
            border-color: #ff4d7a;
        }
        #btnYes:active { transform: translateY(4px); box-shadow: 0 2px 0 #a12f5a; }

        #btnNo {
            background: #f8f8f8;
            color: #555;
            border-color: #bbb;
        }
        #btnNo:active { transform: translateY(4px); box-shadow: 0 2px 0 #777; }

        #btnNo.turning-yes {
            animation: turnToYes 0.6s forwards;
        }

        @keyframes turnToYes {
            to {
                transform: scale(1) rotate(360deg);
                background: #ffc0cb;
                color: #a12f5a;
                border-color: #ff4d7a;
            }
        }

        .penguins-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6vh;
            margin-top: 4vh;
            position: relative;
            z-index: 20;
            width: 100%;
        }

        .penguin {
            width: min(180px, 45vw);
            height: min(180px, 45vw);
            position: relative;
            transition: transform 0.2s;
            touch-action: manipulation;
        }

        .penguin.flip { transform: scaleX(-1); }

        .penguin-head {
            width: 52%;
            height: 46%;
            background: linear-gradient(45deg, gray, #efefe4);
            border-radius: 70% 70% 65% 65%;
            top: 8%;
            left: 24%;
            position: absolute;
            z-index: 1;
        }

        .face        { width: 62%; height: 72%; background: white; border-radius: 70% 70% 60% 60%; top: 14%; position: absolute; }
        .face.left   { left: 4%; }
        .face.right  { right: 4%; }

        .chin        { width: 92%; height: 72%; background: white; top: 24%; left: 4%; border-radius: 70% 70% 100% 100%; position: absolute; }

        .eye         { width: 16%; height: 18%; background: black; top: 42%; border-radius: 50%; position: absolute; }
        .eye.left    { left: 24%; }
        .eye.right   { right: 24%; }

        .eye-lid     { width: 150%; height: 100%; background: white; top: 22%; left: -23%; border-radius: 50%; position: absolute; }

        .blush       { width: 16%; height: 11%; background: pink; top: 62%; border-radius: 50%; position: absolute; }
        .blush.left  { left: 14%; }
        .blush.right { right: 14%; }

        .beak.top    { width: 22%; height: 11%; background: orange; border-radius: 50%; top: 58%; left: 39%; position: absolute; }
        .beak.bottom { width: 18%; height: 9%;  background: orange; border-radius: 50%; top: 64%; left: 41%; position: absolute; }

        .penguin-body {
            width: 54%;
            height: 46%;
            background: linear-gradient(45deg, #868585, #eae7e7, white);
            border-radius: 80% 80% 100% 100%;
            top: 38%;
            left: 23%;
            position: absolute;
        }

        .penguin-body::before {
            content: "";
            position: absolute;
            width: 52%;
            height: 46%;
            background: gray;
            top: 8%;
            left: 24%;
            border-radius: 0 0 100% 100%;
            opacity: 0.7;
        }

        .shirt {
            position: absolute;
            top: 56%;
            left: 50%;
            transform: translateX(-50%);
            font: bold 14px Helvetica;
            color: #5a5a5a;
            text-align: center;
            z-index: 1;
        }

        .arm {
            width: 32%;
            height: 62%;
            background: linear-gradient(90deg, gray, #d1d2c7);
            border-radius: 30% 30% 30% 120%;
            position: absolute;
            z-index: -1;
        }

        .penguin:not(.flip) .arm.left  { top: 32%; left: 4%;  transform: rotate(128deg) scaleX(-1); animation: wave 3.2s infinite; transform-origin: top left; }
        .penguin:not(.flip) .arm.right { top: 0%;   right: -4%; transform: rotate(-42deg); }

        .penguin.flip .arm.left  { top: 32%; left: 4%;  transform: rotate(128deg) scaleX(-1); }
        .penguin.flip .arm.right { top: 12%; right: -4%; transform: rotate(-22deg); animation: offerFlowers 3.4s ease-in-out infinite; }

        @keyframes wave { 0%,100%,40% { transform: rotate(128deg) scaleX(-1); } 20%,60% { transform: rotate(108deg) scaleX(-1); } }
        @keyframes offerFlowers { 0%,100% { transform: rotate(-22deg); } 50% { transform: rotate(-32deg) translateY(-8px); } }

        .foot {
            width: 16%;
            height: 32%;
            background: orange;
            top: 84%;
            border-radius: 50%;
            position: absolute;
            z-index: -1;
        }
        .foot.left  { left: 24%; transform: rotate(78deg); }
        .foot.right { right: 24%; transform: rotate(-78deg); }

        .bouquet {
            position: absolute;
            top: 34%;
            right: -18%;
            transform: scale(0.7);
            animation: bouquetSway 3.5s infinite;
            z-index: 5;
        }

        .flower {
            font-size: clamp(18px, 4.5vw, 28px);
            position: absolute;
            animation: flowerFloat 2.4s infinite;
        }

        .flower.rose:nth-child(1)  { top:0;    left:0; }
        .flower.rose:nth-child(2)  { top:6px;  left:20px; animation-delay:0.3s; }
        .flower.rose:nth-child(3)  { top:14px; left:10px; animation-delay:0.6s; }
        .flower.tulip:nth-child(4) { top:-6px; left:30px; animation-delay:0.9s; }
        .flower.tulip:nth-child(5) { top:18px; left:28px; animation-delay:1.3s; }

        @keyframes bouquetSway { 0%,100% { transform: rotate(-6deg) scale(0.7); } 50% { transform: rotate(6deg) translateY(-8px) scale(0.7); } }
        @keyframes flowerFloat { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-6px) rotate(6deg); } }

        .speech-bubble {
            position: absolute;
            background: white;
            border-radius: 18px;
            padding: 6px 12px;
            font-size: clamp(0.9rem, 3.5vw, 1.1rem);
            font-weight: bold;
            color: #b33b77;
            box-shadow: 0 6px 12px #ffb6c1;
            white-space: normal;
            z-index: 30;
            top: -50px;
            left: 50%;
            transform: translateX(-50%);
            max-width: 85vw;
        }

        .speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            border: 8px solid transparent;
            border-top-color: white;
        }

        .bubble-right { transform: translateX(-50%) scaleX(-1); }
        .bubble-right::after { transform: translateX(-50%) scaleX(-1); }

        .calendar-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.25);
            backdrop-filter: blur(6px);
            z-index: 100;
            display: none;
            place-items: center;
            padding: 12px;
        }

        .calendar-card {
            background: #fff9fc;
            border-radius: 32px;
            padding: clamp(14px, 4vw, 22px);
            width: min(90vw, 450px);
            border: 4px solid white;
            box-shadow: 0 20px 44px #b34180;
            text-align: center;
        }

        .calendar-card h2 {
            font-size: clamp(1.3rem, 5vw, 1.8rem);
            margin-bottom: 1em;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 6px;
            margin: 1.2em 0;
        }

        .day {
            background: #ffeef2;
            padding: 8px 4px;
            border-radius: 50%;
            font-size: clamp(0.9rem, 3.5vw, 1.2rem);
            font-weight: bold;
            color: #a13560;
            box-shadow: 0 4px 0 #d48ca2;
            border: 2px solid white;
            cursor: pointer;
            transition: 0.12s;
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .day:active { transform: translateY(3px); box-shadow: none; }

        .special-day {
            background: #ffb3c6;
            color: #a01a55;
            border: 3px solid #ff629a;
            position: relative;
        }

        .special-day::after {
            content: "üçï";
            position: absolute;
            top: -12px;
            right: -8px;
            font-size: 0.9rem;
            transform: rotate(20deg);
        }

        .calendar-note {
            font-size: clamp(0.95rem, 3.5vw, 1.1rem);
            margin: 1.2em 0;
            color: #b34180;
        }

        #closeCalendar {
            background: #ffc0cb;
            color: #a12f5a;
            border: 3px solid #ff4d7a;
            padding: 0.5em 1.2em;
            border-radius: 30px;
            font-weight: bold;
            cursor: pointer;
            font-size: clamp(0.95rem, 3.5vw, 1.1rem);
            transition: 0.18s;
        }

        #closeCalendar:active { transform: translateY(2px); }

        button, .penguin, .day {
            -webkit-tap-highlight-color: transparent;
            outline: none;
        }

        @media (max-width: 768px) {
            .sun { width: min(120px, 25vw); }
            .mountain { width: min(160px, 30vw); height: min(160px, 30vw); }
            .valentine-card { margin: 4vh auto; }
        }

        @media (max-width: 520px) {
            .scene { padding: 12px 8px; }
            .sun { top: 1vw; right: 1vw; width: min(100px, 22vw); }
            .mountain { width: min(130px, 28vw); height: min(130px, 28vw); bottom: 0; }
            .love-btn { min-width: 90px; padding: 0.5em 1em; flex: 0 1 45%; }
            .button-pair { gap: 6px; }
            .penguin { width: min(150px, 42vw); height: min(150px, 42vw); }
            .speech-bubble { top: -40px; padding: 5px 10px; }
            .bouquet { transform: scale(0.6); right: -20%; }
            .calendar-grid { gap: 4px; }
        }
    </style>
</head>
<body>

<div class="hearts-bg" id="heartsBg"></div>

<div class="scene">
    <div class="sun"></div>
    <div class="mountain left-mountain"></div>
    <div class="mountain back-mountain"></div>

    <div class="valentine-card" id="valentineCard">
        <div class="question-text">üíó Be my Valentine? üíó</div>
        <div class="from-signature">‚Äî from me üêß</div>
        <div class="button-pair">
            <button class="love-btn" id="btnYes">YES üíñ</button>
            <button class="love-btn" id="btnNo">no üíî</button>
        </div>
    </div>

    <div class="penguins-container">
        <div class="penguin" id="penguinMe">
            <div class="penguin-head">
                <div class="face left"></div><div class="face right"></div><div class="chin"></div>
                <div class="eye left"><div class="eye-lid"></div></div>
                <div class="eye right"><div class="eye-lid"></div></div>
                <div class="blush left"></div><div class="blush right"></div>
                <div class="beak top"></div><div class="beak bottom"></div>
            </div>
            <div class="shirt">üíô<br>ME</div>
            <div class="penguin-body">
                <div class="arm left"></div><div class="arm right"></div>
                <div class="foot left"></div><div class="foot right"></div>
            </div>
            <div class="speech-bubble bubble-left">Be my valentines? üåπ</div>
        </div>

        <div class="penguin flip" id="penguinYou">
            <div class="penguin-head">
                <div class="face left"></div><div class="face right"></div><div class="chin"></div>
                <div class="eye left"><div class="eye-lid"></div></div>
                <div class="eye right"><div class="eye-lid"></div></div>
                <div class="blush left"></div><div class="blush right"></div>
                <div class="beak top"></div><div class="beak bottom"></div>
            </div>
            <div class="shirt">üíó<br>UOY</div>
            <div class="penguin-body">
                <div class="arm left"></div><div class="arm right"></div>
                <div class="foot left"></div><div class="foot right"></div>
            </div>
            <div class="bouquet">
                <div class="flower rose">üåπ</div>
                <div class="flower rose">üåπ</div>
                <div class="flower rose">üåπ</div>
                <div class="flower tulip">üå∑</div>
                <div class="flower tulip">üå∑</div>
            </div>
            <div class="speech-bubble bubble-right" id="yourBubble">...</div>
        </div>
    </div>
</div>

<div class="calendar-overlay" id="calendarOverlay">
    <div class="calendar-card">
        <h2>üìÖ pick our date!</h2>
        <div class="calendar-grid" id="calendarDays"></div>
        <div class="calendar-note" id="calendarNote">‚ú® any day leads to treats on the 28th ‚ú®</div>
        <button id="closeCalendar">close</button>
    </div>
</div>

<script>
(function() {
    function addBgHeart() {
        const bg = document.getElementById('heartsBg');
        if (!bg) return;
        const h = document.createElement('div');
        h.className = 'bg-heart';
        const sym = ['‚ù§Ô∏è','üíñ','üíï','üíó','üíù','üå∏','üå∫'];
        h.textContent = sym[Math.floor(Math.random()*sym.length)];
        h.style.left = Math.random()*100 + '%';
        h.style.animationDuration = (9 + Math.random()*10) + 's';
        h.style.fontSize = (16 + Math.random()*28) + 'px';
        bg.appendChild(h);
        setTimeout(()=>h.remove(), 16000);
    }
    setInterval(addBgHeart, 1200);

    function createHeartExplosion(x, y, count = 18) {
        for (let i = 0; i < count; i++) {
            const p = document.createElement('div');
            p.className = 'particle-heart';
            const hearts = ['‚ù§Ô∏è','üíñ','üíï','üíó','üíò','üíû','üíì','üíù'];
            p.textContent = hearts[Math.floor(Math.random() * hearts.length)];
            p.style.left = (x + (Math.random() - 0.5) * 140) + 'px';
            p.style.top = (y + (Math.random() - 0.5) * 140) + 'px';
            const dx = (Math.random() - 0.5) * 360;
            const dy = (Math.random() - 0.8) * 280 - 40;
            p.style.setProperty('--dx', dx + 'px');
            p.style.setProperty('--dy', dy + 'px');
            document.body.appendChild(p);
            setTimeout(() => p.remove(), 1200);
        }
    }

    const btnYes = document.getElementById('btnYes');
    const btnNo = document.getElementById('btnNo');
    const penguinYou = document.getElementById('penguinYou');
    const penguinMe = document.getElementById('penguinMe');
    const yourBubble = document.getElementById('yourBubble');
    const calendarOverlay = document.getElementById('calendarOverlay');
    const calendarGrid = document.getElementById('calendarDays');
    const calendarNote = document.getElementById('calendarNote');
    const closeCal = document.getElementById('closeCalendar');
    const valentineCard = document.getElementById('valentineCard');
    const questionEl = valentineCard.querySelector('.question-text');
    const signatureEl = valentineCard.querySelector('.from-signature');

    btnNo.addEventListener('click', function(e) {
        e.stopPropagation();
        const rect = btnNo.getBoundingClientRect();
        createHeartExplosion(rect.left + rect.width/2, rect.top + rect.height/2, 15);
        btnNo.classList.add('turning-yes');
        setTimeout(() => {
            btnNo.textContent = 'YES! üíñ';
            btnNo.style.background = '#ffc0cb';
            btnNo.style.color = '#a12f5a';
            btnNo.style.borderColor = '#ff4d7a';
            setTimeout(() => handleYes('no-button'), 200);
        }, 500);
    });

    function handleYes(origin) {
        const rect = btnYes.getBoundingClientRect();
        createHeartExplosion(rect.left + rect.width/2, rect.top + rect.height/2, 30);

        questionEl.innerHTML = 'üíò you said YES! üíò';
        signatureEl.innerHTML = '‚Äî can\'t wait for treats!';

        btnYes.textContent = 'üíñüíñüíñ';
        btnYes.disabled = true;

        if (btnNo.textContent !== 'YES! üíñ') {
            btnNo.style.opacity = '0';
            setTimeout(() => btnNo.remove(), 400);
        } else {
            btnNo.disabled = true;
        }

        yourBubble.textContent = 'YES!! üíï';
        yourBubble.style.background = '#ffc0cb';
        yourBubble.style.color = '#a12f5a';

        setTimeout(() => {
            calendarOverlay.style.display = 'flex';
            askEmailConfirmation();
        }, 600);

        for (let i=0; i<20; i++) {
            setTimeout(() => {
                const rain = document.createElement('div');
                rain.style.position = 'fixed';
                rain.style.left = Math.random() * 100 + '%';
                rain.style.top = '-30px';
                rain.style.fontSize = (20+Math.random()*30)+'px';
                rain.style.pointerEvents = 'none';
                rain.style.zIndex = 9998;
                rain.textContent = ['‚ù§Ô∏è','üíñ','üíï','üíó','üíò','üíù'][Math.floor(Math.random()*6)];
                rain.style.animation = `floatDown ${2+Math.random()*2}s linear forwards`;
                document.body.appendChild(rain);
                setTimeout(() => rain.remove(), 3000);
            }, i*60);
        }
    }

    function askEmailConfirmation() {
        const hint = document.createElement('div');
        hint.style.position = 'fixed';
        hint.style.bottom = '15px';
        hint.style.left = '50%';
        hint.style.transform = 'translateX(-50%)';
        hint.style.background = '#ffffff';
        hint.style.padding = '12px 16px';
        hint.style.borderRadius = '40px';
        hint.style.fontSize = 'clamp(0.95rem, 3.5vw, 1.1rem)';
        hint.style.boxShadow = '0 10px 20px #c2527c';
        hint.style.border = '3px solid #ff99bb';
        hint.style.zIndex = '200';
        hint.style.whiteSpace = 'normal';
        hint.style.maxWidth = '85vw';
        hint.style.textAlign = 'center';
        hint.innerHTML = 'üìß Date confirmed üíå';
        document.body.appendChild(hint);
        setTimeout(() => hint.remove(), 3500);
    }

    btnYes.addEventListener('click', (e) => { e.stopPropagation(); handleYes('button'); });
    penguinYou.addEventListener('click', (e) => {
        e.stopPropagation();
        const rect = penguinYou.getBoundingClientRect();
        createHeartExplosion(rect.left + rect.width/2, rect.top + rect.height/2, 20);
        handleYes('penguin');
    });
    penguinMe.addEventListener('click', (e) => {
        const rect = penguinMe.getBoundingClientRect();
        createHeartExplosion(rect.left + rect.width/2, rect.top + rect.height/2, 10);
    });

    function buildCalendar() {
        calendarGrid.innerHTML = '';
        for (let d = 1; d <= 28; d++) {
            const dayDiv = document.createElement('div');
            dayDiv.className = 'day';
            if (d === 28) dayDiv.classList.add('special-day');
            dayDiv.textContent = d;
            dayDiv.setAttribute('data-day', d);
            dayDiv.addEventListener('click', function() {
                const chosen = this.getAttribute('data-day');
                if (chosen == 28) {
                    calendarNote.innerHTML = 'üçï 28th ‚Äî pizza & ice cream date! üç¶';
                } else {
                    calendarNote.innerHTML = `‚ú® you picked day ${chosen} ‚Üí we'll still go on the 28th for food treats! ‚ú®`;
                }
                const rect = this.getBoundingClientRect();
                createHeartExplosion(rect.left + rect.width/2, rect.top + rect.height/2, 6);
            });
            calendarGrid.appendChild(dayDiv);
        }
    }
    buildCalendar();

    closeCal.addEventListener('click', function() {
        calendarOverlay.style.display = 'none';
    });

    if (!document.querySelector('#floatDownStyle')) {
        const style = document.createElement('style');
        style.id = 'floatDownStyle';
        style.innerHTML = '@keyframes floatDown { 0% { top: -30px; opacity: 0.9; } 100% { top: 110vh; opacity: 0; transform: rotate(360deg); } }';
        document.head.appendChild(style);
    }

    document.addEventListener('touchstart', e => {
        if (e.touches.length > 1) e.preventDefault();
    }, { passive: false });
})();
</script>
</body>
</html>
